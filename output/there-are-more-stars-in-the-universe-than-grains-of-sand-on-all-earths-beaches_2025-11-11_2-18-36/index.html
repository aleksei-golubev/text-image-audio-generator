<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>El universo: más estrellas que granos de arena en la Tierra</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem auto;
      max-width: 1200px;
      line-height: 1.6;
      background: #fafafa;
      color: #333;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    h1 {
      margin: 0;
      text-align: center;
    }

    .play-btn {
    width: 40px;
    border-radius: 50%;
    border: none;
    background: #0077ff;
    color: #fff;
    font-size: 1.2rem;
    cursor: pointer;
    display: inline-block;
    vertical-align: middle;
    line-height: 2.1em;
    text-align: center;
    transition: background-color 0.2s;
    }

    .play-btn:hover {
      background: #0059cc;
    }

    .columns {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 2rem;
    }

    .col {
      background: #fff;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    audio {
      width: 100%;
      margin-top: 1rem;
    }

    img {
      max-width: 100%;
      border-radius: 10px;
    }

    .sentence { cursor: pointer; transition: background 0.2s; }
    .highlight { background-color: #fff176; } /* цвет подсветки */
  </style>
</head>
<body>

  <!-- Заголовок и кнопка воспроизведения -->
  <div class="header">
    <h1>El universo: más estrellas que granos de arena en la Tierra <span id="titleAudioBtn" class="play-btn">▶</span></h1>
  </div>

  <!-- Колонки: текст / перевод / картинка -->
  <div class="columns">
    <!-- Текст с плеером -->
    <div class="col">
      <div id="textCol"><p>A veces leemos esta idea en internet: hay más estrellas en el universo que granos de arena en todas las playas de la Tierra. Suena increíble, pero muchos científicos están de acuerdo. Cuando miramos el cielo de noche, vemos solo unas pocas estrellas. A simple vista, las demás se pierden por la distancia y la luz. Sin embargo, existen y llenan el espacio.</p>
<p>Los científicos estiman que hay miles de millones de galaxias. Cada galaxia tiene miles de millones de estrellas. El número de granos de arena también es enorme, pero es menor. Cada grano es muy pequeño, y cada estrella es como un sol lejano. Por eso, hay más estrellas que granos de arena en todas las playas del planeta.</p>
<p>Este dato nos ayuda a imaginar lo grande que es el universo. Nos hace sentir curiosidad y humildad a la vez. También nos recuerda que la Tierra es nuestro hogar y debemos cuidarla. Aunque somos pequeños, nuestras acciones tienen valor. Cuando mires el cielo o visites la playa, recuerda este hecho sorprendente.</p></div>
      <audio controls>
        <source src="text-audio.mp3" type="audio/mpeg" />
      </audio>
    </div>

    <!-- Перевод -->
    <div class="col" id="translationCol">
      <p><p>Иногда мы читаем в интернете такую идею: во Вселенной больше звёзд, чем песчинок на всех пляжах Земли. Звучит невероятно, но многие учёные с этим согласны. Когда мы смотрим на ночное небо, видим лишь несколько звёзд. Невооружённым глазом остальные теряются из-за расстояния и света. Тем не менее они существуют и наполняют космос.</p>
<p>Учёные оценивают, что существуют миллиарды галактик. В каждой галактике — миллиарды звёзд. Число песчинок тоже огромно, но оно меньше. Каждая песчинка очень мала, а каждая звезда — как далёкое солнце. Поэтому звёзд больше, чем песчинок на всех пляжах планеты.</p>
<p>Этот факт помогает нам представить, насколько велика Вселенная. Он заставляет нас испытывать любопытство и смирение одновременно. Он также напоминает нам, что Земля — наш дом, и мы должны о ней заботиться. Хотя мы малы, наши поступки имеют значение. Когда смотришь на небо или бываешь на пляже, помни об этом удивительном факте.</p></p>
    </div>

    <!-- Картинка -->
    <div class="col">
      <img src="image.png"  alt="Image" />
      <p><strong>Вселенная: звёзд больше, чем песчинок на Земле</strong></p>
    </div>
  </div>

  <script>
    const titleBtn = document.getElementById('titleAudioBtn');
    const titleAudio = new Audio('title-audio.mp3');

    titleBtn.addEventListener('click', () => {
      if (!titleAudio.paused) {
        titleAudio.pause();
        titleAudio.currentTime = 0;
        titleBtn.textContent = '▶';
      } else {
        titleAudio.play();
        titleBtn.textContent = '⏹';
      }
    });

    titleAudio.addEventListener('ended', () => {
      titleBtn.textContent = '▶';
    });

    // -----------------------------
    // Подсветка предложений с сохранением абзацев
    const textCol = document.getElementById('textCol');
    const translationCol = document.getElementById('translationCol');

    function wrapSentencesPreserveParagraphs(container) {
    const paragraphs = container.textContent.split(/\n+/).filter(p => p.trim() !== '');
    container.innerHTML = ''; // очищаем контейнер
    let sentenceIndex = 0;

    paragraphs.forEach(paragraph => {
        const p = document.createElement('p');
        const sentences = paragraph.split(/(?<=[.!?])\s+/);

        sentences.forEach(sentence => {
        const span = document.createElement('span');
        span.className = 'sentence';
        span.dataset.index = sentenceIndex;
        span.textContent = sentence + ' ';
        p.appendChild(span);
        sentenceIndex++;
        });

        container.appendChild(p);
    });
    }

    // Оборачиваем текст и перевод
    wrapSentencesPreserveParagraphs(textCol);
    wrapSentencesPreserveParagraphs(translationCol);

    // Получаем все спаны
    const textSpans = textCol.querySelectorAll('.sentence');
    const translationSpans = translationCol.querySelectorAll('.sentence');

    // Добавляем подсветку
    textSpans.forEach(span => {
    span.addEventListener('mouseenter', () => {
        const i = span.dataset.index;
        span.classList.add('highlight');
        if (translationSpans[i]) translationSpans[i].classList.add('highlight');
    });
    span.addEventListener('mouseleave', () => {
        const i = span.dataset.index;
        span.classList.remove('highlight');
        if (translationSpans[i]) translationSpans[i].classList.remove('highlight');
    });
    });

    translationSpans.forEach(span => {
    span.addEventListener('mouseenter', () => {
        const i = span.dataset.index;
        span.classList.add('highlight');
        if (textSpans[i]) textSpans[i].classList.add('highlight');
    });
    span.addEventListener('mouseleave', () => {
        const i = span.dataset.index;
        span.classList.remove('highlight');
        if (textSpans[i]) textSpans[i].classList.remove('highlight');
    });
    });

  </script>

</body>
</html>