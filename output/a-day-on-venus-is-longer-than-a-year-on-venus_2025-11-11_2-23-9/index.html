<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Un día en Venus dura más que un año</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem auto;
      max-width: 1200px;
      line-height: 1.6;
      background: #fafafa;
      color: #333;
    }

    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    h1 {
      margin: 0;
      text-align: center;
    }

    .play-btn {
    width: 40px;
    border-radius: 50%;
    border: none;
    background: #0077ff;
    color: #fff;
    font-size: 1.2rem;
    cursor: pointer;
    display: inline-block;
    vertical-align: middle;
    line-height: 2.1em;
    text-align: center;
    transition: background-color 0.2s;
    }

    .play-btn:hover {
      background: #0059cc;
    }

    .columns {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 2rem;
    }

    .col {
      background: #fff;
      border-radius: 10px;
      padding: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }

    audio {
      width: 100%;
      margin-top: 1rem;
    }

    img {
      max-width: 100%;
      border-radius: 10px;
    }

    .sentence { cursor: pointer; transition: background 0.2s; }
    .highlight { background-color: #fff176; } /* цвет подсветки */
  </style>
</head>
<body>

  <!-- Заголовок и кнопка воспроизведения -->
  <div class="header">
    <h1>Un día en Venus dura más que un año <span id="titleAudioBtn" class="play-btn">▶</span></h1>
  </div>

  <!-- Колонки: текст / перевод / картинка -->
  <div class="columns">
    <!-- Текст с плеером -->
    <div class="col">
      <div id="textCol"><p>Venus es el segundo planeta desde el Sol. Es casi del tamaño de la Tierra. Su superficie es muy caliente. Tiene nubes densas y un cielo amarillo. Un día en Venus es más largo que un año en Venus.</p>
<p>Un día es el tiempo que un planeta tarda en girar sobre sí mismo. Un año es el tiempo que tarda en dar una vuelta al Sol. Venus gira muy, muy despacio. Un día en Venus dura 243 días de la Tierra. Un año en Venus dura 225 días de la Tierra.</p>
<p>Por eso, el Sol parece moverse muy lentamente en su cielo. También gira al revés, de este a oeste. Los científicos estudian Venus con sondas espaciales. Quieren entender su clima, su suelo y su historia. Nuevas misiones modernas van a enviar más datos en los próximos años.</p></div>
      <audio controls>
        <source src="text-audio.mp3" type="audio/mpeg" />
      </audio>
    </div>

    <!-- Перевод -->
    <div class="col" id="translationCol">
      <p><p>Венера — вторая планета от Солнца. Она почти такого же размера, как Земля. Её поверхность очень горячая. У неё плотные облака и жёлтое небо. Сутки на Венере длиннее, чем год на Венере.</p>
<p>Сутки — это время, за которое планета совершает оборот вокруг своей оси. Год — это время, за которое она делает один оборот вокруг Солнца. Венера вращается очень, очень медленно. Сутки на Венере длятся 243 земных дня. Год на Венере длится 225 земных дней.</p>
<p>Поэтому кажется, что на её небе Солнце движется очень медленно. Она также вращается наоборот, с востока на запад. Учёные изучают Венеру с помощью космических зондов. Они хотят понять её климат, почву и её историю. Новые современные миссии будут передавать больше данных в ближайшие годы.</p></p>
    </div>

    <!-- Картинка -->
    <div class="col">
      <img src="image.png"  alt="Image" />
      <p><strong>Один день на Венере длится дольше, чем год.</strong></p>
    </div>
  </div>

  <script>
    const titleBtn = document.getElementById('titleAudioBtn');
    const titleAudio = new Audio('title-audio.mp3');

    titleBtn.addEventListener('click', () => {
      if (!titleAudio.paused) {
        titleAudio.pause();
        titleAudio.currentTime = 0;
        titleBtn.textContent = '▶';
      } else {
        titleAudio.play();
        titleBtn.textContent = '⏹';
      }
    });

    titleAudio.addEventListener('ended', () => {
      titleBtn.textContent = '▶';
    });

    // -----------------------------
    // Подсветка предложений с сохранением абзацев
    const textCol = document.getElementById('textCol');
    const translationCol = document.getElementById('translationCol');

    function wrapSentencesPreserveParagraphs(container) {
    const paragraphs = container.textContent.split(/\n+/).filter(p => p.trim() !== '');
    container.innerHTML = ''; // очищаем контейнер
    let sentenceIndex = 0;

    paragraphs.forEach(paragraph => {
        const p = document.createElement('p');
        const sentences = paragraph.split(/(?<=[.!?])\s+/);

        sentences.forEach(sentence => {
        const span = document.createElement('span');
        span.className = 'sentence';
        span.dataset.index = sentenceIndex;
        span.textContent = sentence + ' ';
        p.appendChild(span);
        sentenceIndex++;
        });

        container.appendChild(p);
    });
    }

    // Оборачиваем текст и перевод
    wrapSentencesPreserveParagraphs(textCol);
    wrapSentencesPreserveParagraphs(translationCol);

    // Получаем все спаны
    const textSpans = textCol.querySelectorAll('.sentence');
    const translationSpans = translationCol.querySelectorAll('.sentence');

    // Добавляем подсветку
    textSpans.forEach(span => {
    span.addEventListener('mouseenter', () => {
        const i = span.dataset.index;
        span.classList.add('highlight');
        if (translationSpans[i]) translationSpans[i].classList.add('highlight');
    });
    span.addEventListener('mouseleave', () => {
        const i = span.dataset.index;
        span.classList.remove('highlight');
        if (translationSpans[i]) translationSpans[i].classList.remove('highlight');
    });
    });

    translationSpans.forEach(span => {
    span.addEventListener('mouseenter', () => {
        const i = span.dataset.index;
        span.classList.add('highlight');
        if (textSpans[i]) textSpans[i].classList.add('highlight');
    });
    span.addEventListener('mouseleave', () => {
        const i = span.dataset.index;
        span.classList.remove('highlight');
        if (textSpans[i]) textSpans[i].classList.remove('highlight');
    });
    });

  </script>

</body>
</html>